# Enable EC11 encoder with optimized settings
CONFIG_EC11=y
CONFIG_EC11_TRIGGER_GLOBAL_THREAD=y
CONFIG_EC11_THREAD_PRIORITY=3
CONFIG_EC11_THREAD_STACK_SIZE=1024

# Enable RGB underglow with strong defaults
#CONFIG_ZMK_RGB_UNDERGLOW=y
#CONFIG_WS2812_STRIP=y
#CONFIG_ZMK_RGB_UNDERGLOW_ON_START=y
#CONFIG_ZMK_RGB_UNDERGLOW_EXT_POWER=y
#CONFIG_ZMK_RGB_UNDERGLOW_AUTO_OFF_IDLE=y
#CONFIG_ZMK_RGB_UNDERGLOW_AUTO_OFF_USB=n

# RGB underglow customization - higher brightness for better visibility
#CONFIG_ZMK_RGB_UNDERGLOW_HUE_START=140
#CONFIG_ZMK_RGB_UNDERGLOW_SAT_START=100
#CONFIG_ZMK_RGB_UNDERGLOW_BRT_START=100
#CONFIG_ZMK_RGB_UNDERGLOW_SPD_START=3
#CONFIG_ZMK_RGB_UNDERGLOW_EFF_START=0

# Enable USB and Bluetooth
#CONFIG_ZMK_USB=y
CONFIG_ZMK_BLE=y
CONFIG_BT=y

CONFIG_BT_SMP=y
CONFIG_BT_BONDABLE=y

CONFIG_BT_DEVICE_NAME="Macropad"
CONFIG_BT_DEVICE_NAME_DYNAMIC=n
#CONFIG_BT_DEVICE_APPEARANCE=961   # optional, sets device category

# Enable CDC ACM for ZMK Studio support
#CONFIG_USB_CDC_ACM=y
#CONFIG_USB_DEVICE_STACK=y

# Stronger Bluetooth configuration
CONFIG_BT_CTLR_TX_PWR_PLUS_8=y
CONFIG_BT_MAX_CONN=1
CONFIG_BT_MAX_PAIRED=1 

# Ensure Bluetooth is advertised on startup
CONFIG_ZMK_BLE_CLEAR_BONDS_ON_START=n
CONFIG_ZMK_BLE_PASSKEY_ENTRY=n

# Power management and sleep mode (adjusted for better connectivity)
CONFIG_ZMK_SLEEP=y
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=1800000
CONFIG_ZMK_IDLE_TIMEOUT=300000

# Improve modifier behavior
CONFIG_ZMK_HID_REPORT_TYPE_NKRO=y
CONFIG_ZMK_HID_SEPARATE_MOD_RELEASE_REPORT=y
